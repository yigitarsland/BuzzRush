{"version":3,"names":["NativeEventEmitter","NativeModules","RNDevMenu","NativeModule","emitter","handlers","addItem","name","handler","__DEV__","Promise","resolve","Map","addListener","get","set"],"sources":["index.ts"],"sourcesContent":["import { NativeEventEmitter, NativeModules } from \"react-native\";\n\nconst { RNDevMenu } = NativeModules;\n\nconst NativeModule: {\n  addItem: (name: string) => Promise<void>;\n} = RNDevMenu;\n\nlet emitter: NativeEventEmitter | undefined;\nlet handlers: Map<string, () => void> | undefined;\n\nexport const addItem = (name: string, handler: () => void): Promise<void> => {\n  if (!__DEV__) {\n    return Promise.resolve();\n  }\n\n  if (handlers == null) {\n    handlers = new Map();\n  }\n\n  if (emitter == null) {\n    emitter = new NativeEventEmitter(RNDevMenu);\n\n    emitter.addListener(\"customDevOptionTap\", (name: string) => {\n      const handler = handlers?.get(name);\n      handler != null && handler();\n    });\n  }\n\n  handlers.set(name, handler);\n  return NativeModule.addItem(name);\n};\n\nexport default { addItem };\n"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,aAA7B,QAAkD,cAAlD;AAEA,MAAM;EAAEC;AAAF,IAAgBD,aAAtB;AAEA,MAAME,YAEL,GAAGD,SAFJ;AAIA,IAAIE,OAAJ;AACA,IAAIC,QAAJ;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,IAAD,EAAeC,OAAf,KAAsD;EAC3E,IAAI,CAACC,OAAL,EAAc;IACZ,OAAOC,OAAO,CAACC,OAAR,EAAP;EACD;;EAED,IAAIN,QAAQ,IAAI,IAAhB,EAAsB;IACpBA,QAAQ,GAAG,IAAIO,GAAJ,EAAX;EACD;;EAED,IAAIR,OAAO,IAAI,IAAf,EAAqB;IACnBA,OAAO,GAAG,IAAIJ,kBAAJ,CAAuBE,SAAvB,CAAV;IAEAE,OAAO,CAACS,WAAR,CAAoB,oBAApB,EAA2CN,IAAD,IAAkB;MAAA;;MAC1D,MAAMC,OAAO,gBAAGH,QAAH,8CAAG,UAAUS,GAAV,CAAcP,IAAd,CAAhB;MACAC,OAAO,IAAI,IAAX,IAAmBA,OAAO,EAA1B;IACD,CAHD;EAID;;EAEDH,QAAQ,CAACU,GAAT,CAAaR,IAAb,EAAmBC,OAAnB;EACA,OAAOL,YAAY,CAACG,OAAb,CAAqBC,IAArB,CAAP;AACD,CApBM;AAsBP,eAAe;EAAED;AAAF,CAAf"}