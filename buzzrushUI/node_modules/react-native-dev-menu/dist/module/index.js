import { NativeEventEmitter, NativeModules } from "react-native";
const {
  RNDevMenu
} = NativeModules;
const NativeModule = RNDevMenu;
let emitter;
let handlers;
export const addItem = (name, handler) => {
  if (!__DEV__) {
    return Promise.resolve();
  }

  if (handlers == null) {
    handlers = new Map();
  }

  if (emitter == null) {
    emitter = new NativeEventEmitter(RNDevMenu);
    emitter.addListener("customDevOptionTap", name => {
      var _handlers;

      const handler = (_handlers = handlers) === null || _handlers === void 0 ? void 0 : _handlers.get(name);
      handler != null && handler();
    });
  }

  handlers.set(name, handler);
  return NativeModule.addItem(name);
};
export default {
  addItem
};
//# sourceMappingURL=index.js.map