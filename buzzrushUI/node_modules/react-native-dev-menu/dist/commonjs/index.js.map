{"version":3,"names":["RNDevMenu","NativeModules","NativeModule","emitter","handlers","addItem","name","handler","__DEV__","Promise","resolve","Map","NativeEventEmitter","addListener","get","set"],"sources":["index.ts"],"sourcesContent":["import { NativeEventEmitter, NativeModules } from \"react-native\";\n\nconst { RNDevMenu } = NativeModules;\n\nconst NativeModule: {\n  addItem: (name: string) => Promise<void>;\n} = RNDevMenu;\n\nlet emitter: NativeEventEmitter | undefined;\nlet handlers: Map<string, () => void> | undefined;\n\nexport const addItem = (name: string, handler: () => void): Promise<void> => {\n  if (!__DEV__) {\n    return Promise.resolve();\n  }\n\n  if (handlers == null) {\n    handlers = new Map();\n  }\n\n  if (emitter == null) {\n    emitter = new NativeEventEmitter(RNDevMenu);\n\n    emitter.addListener(\"customDevOptionTap\", (name: string) => {\n      const handler = handlers?.get(name);\n      handler != null && handler();\n    });\n  }\n\n  handlers.set(name, handler);\n  return NativeModule.addItem(name);\n};\n\nexport default { addItem };\n"],"mappings":";;;;;;;AAAA;;AAEA,MAAM;EAAEA;AAAF,IAAgBC,0BAAtB;AAEA,MAAMC,YAEL,GAAGF,SAFJ;AAIA,IAAIG,OAAJ;AACA,IAAIC,QAAJ;;AAEO,MAAMC,OAAO,GAAG,CAACC,IAAD,EAAeC,OAAf,KAAsD;EAC3E,IAAI,CAACC,OAAL,EAAc;IACZ,OAAOC,OAAO,CAACC,OAAR,EAAP;EACD;;EAED,IAAIN,QAAQ,IAAI,IAAhB,EAAsB;IACpBA,QAAQ,GAAG,IAAIO,GAAJ,EAAX;EACD;;EAED,IAAIR,OAAO,IAAI,IAAf,EAAqB;IACnBA,OAAO,GAAG,IAAIS,+BAAJ,CAAuBZ,SAAvB,CAAV;IAEAG,OAAO,CAACU,WAAR,CAAoB,oBAApB,EAA2CP,IAAD,IAAkB;MAAA;;MAC1D,MAAMC,OAAO,gBAAGH,QAAH,8CAAG,UAAUU,GAAV,CAAcR,IAAd,CAAhB;MACAC,OAAO,IAAI,IAAX,IAAmBA,OAAO,EAA1B;IACD,CAHD;EAID;;EAEDH,QAAQ,CAACW,GAAT,CAAaT,IAAb,EAAmBC,OAAnB;EACA,OAAOL,YAAY,CAACG,OAAb,CAAqBC,IAArB,CAAP;AACD,CApBM;;;eAsBQ;EAAED;AAAF,C"}